\documentclass[10pt,letterpaper,draftclsnofoot,onecolumn]{IEEEtran}

\usepackage{graphicx}                                        
\usepackage{amssymb}                                         
\usepackage{amsmath}                                         
\usepackage{amsthm}                                          

\usepackage{alltt}                                           
\usepackage{float}
\usepackage{color}
\usepackage{url}

\usepackage{balance}
\usepackage[TABBOTCAP, tight]{subfigure}
\usepackage{enumitem}
\usepackage{pstricks, pst-node}

\usepackage{geometry}
\geometry{textheight=8.5in, textwidth=6in, margin=0.75in}
\usepackage[singlespacing]{setspace}

\newcommand{\cred}[1]{{\color{red}#1}}
\newcommand{\cblue}[1]{{\color{blue}#1}}

\usepackage{hyperref}
\usepackage{geometry}

\def\name{Group 11-05}

%pull in the necessary preamble matter for pygments output

%% The following metadata will show up in the PDF properties
\hypersetup{
  colorlinks = true,
  urlcolor = red,
  pdfauthor = {\name},
  pdfkeywords = {cs444},
  pdftitle = {CS 444 Assignment III: I/O Elevators},
  pdfsubject = {CS 444 Assignment 3},
  pdfpagemode = UseNone
}

\begin{document}

\begin{titlepage}
\centering
{\Large Group 11-05: Daniel Schroeder, Brian Ozarowicz, and Luke Morrison\par}
\vspace{1cm}
{\scshape\Large CS 444 Operating Systems II\par}
{\scshape\Large Spring 2017\par}
\vspace{1cm}
{\huge\bfseries Assignment III: Encrypted Block Device\par}
\vspace{2cm}
\begin{abstract}
This document is a summary of Assignment 3 for CS 444 Operating Systems II at Oregon State University Spring 2017. This document includes the design and implementation of the kernel assignment to implement an Encrypted Block Device, responses to the design and implimenation questions for the kernel and concurrency assignments, and a work log.
\end{abstract}
\end{titlepage}

\section{Kernel Assignment}
\bigskip

\noindent\textbf{Design}
\medskip

\medskip

\noindent For our Encrypted Block Device implementation, we used a pre-established sbd.c driver example from (\href{http://blog.superpat.com/2010/05/04/a-simple-block-driver-for-linux-kernel-2-6-31/}{driver}) as a basis for the encryption module. From there we implemented data encryption through...

\bigskip

\noindent\textbf{What do you think the main point of this assignment is?}
\medskip

\medskip

\noindent The point of this assignment was to learn how to use an API from the Linux kernel that has poor documentation and design an encrypted block driver module through examples and outside resources.
\bigskip

\noindent\textbf{How did you personally approach the problem?}
\medskip

\medskip

\noindent We used an sbd.c implementation of a block driver we found that was written to work for Linux 3.x kernels. After looking through the cryptoloop.c code and researching block driver encryption, we ***add encryption***
\medskip

\medskip

\noindent We aimed to create a filesystem on our encrypted driver that took a parameter value to be used as the encryption key and encrypt any writes made to the driver and decrypt any reads. 

\bigskip

\noindent\textbf{How did you ensure your solution was correct?}
\medskip

\medskip

\noindent After designing our sbd.c driver, we added it to the .config file with a "-m" flag to compile the module onto our kernel. Inside the kernel terminal we used the insmod command to install the our sbd module. We then created a file system on the module with ``mkfs -t ext2 /dev/\textless dev-name\textgreater'' and mounted it with ``mount -t ext2 /dev/\textless dev-name\textgreater /mnt'' for read/write abilities. From here, we manipulated the filesystem and used a series of printk's to ensure that the data being written and read was encrypted with the key command parameter passed in.

\bigskip

\noindent\textbf{What did you learn?}
\medskip

\medskip

\noindent We learned how to add driver into the /driver/block directory in our kernel and compile it to be used by the kernel. We also leaned how kernel drivers are created and the code behind the I/O operations performed by the driver. 
***Add stuff about encryption***
\section{Concurrency Assignment}
\bigskip

\noindent\textbf{What do you think the main point of this assignment is?}
\medskip

\medskip

\noindent The main point of this concurrency assignment was to implement a solution for a Categorial Mutual Exclusion problem. This problem called for three different kinds of threads: inserter threads, searcher threads, and deleter threads. Each type of thread needed to have exclusive access to a commonly shared struct link list and manipulate list items.

\bigskip

\noindent\textbf{How did you personally approach the problem?}
\medskip

\medskip

\noindent For this concurrency assignment we had 3 types of threads that all had exclusive access to a static linked list. Multiple searches could occur at once, but had a mutex for control over a NUMBER\_OF\_SEARCHERS variable that incremented and decremented as searchers started and finished their operations. Inserted threads invoke the inserter/deleter mutex that ensures inserters exclude deleter threads and other inserter threads. Lastly, deleter threads invoke the searcher/deleter mutex and a PTHREAD\_CONDITION that communicates with searchers to give searchers and deleters exclusive access to the linked list. Once all the threads where locking and performing concurrently, we added sleep(1) at the end of ever thread's critical section so the print statements in the console were very clear when the program was running. We assigned different ANSI\_COLOR schemes for the different thread types, and printed the linked list after each operation.

\bigskip

\noindent\textbf{How did you ensure your solution was correct?}
\medskip

\medskip

\noindent We added various printf statements in our code when a thread was blocked, or when a thread was inserting, deleting, searching...etc. We printed the program flow onto the console and printed the linked list after any operation was performed to show how the list was changing.
\bigskip

\noindent\textbf{What did you learn?}
\medskip

\medskip

\noindent **ADD STUFF***
\medskip


\section{Version Control Log}
\bigskip

\noindent\begin{tabular}{l l l}\textbf{Detail} & \textbf{Author} & \textbf{Description}\\\hline
\href{https://github.com/DSchroederOSU/CS444-Group\_11\_05/commit/31d0e499089bc16ec0f1a8651c6579b882fe3837}{31d0e49} & ozarowib & HW2 preparation\\\hline
\href{https://github.com/DSchroederOSU/CS444-Group\_11\_05/commit/d76f94b4ef4e153d4a4082e754008b003cbcb8fc}{d76f94b} & Luke Morrison & luke's philosophers\\\hline
\href{https://github.com/DSchroederOSU/CS444-Group\_11\_05/commit/6ecb0b1be6e85c16b4d50d2c492c10fb3598a1d2}{6ecb0b1} & Luke Morrison & luke philosophers\\\hline
\href{https://github.com/DSchroederOSU/CS444-Group\_11\_05/commit/8fe1537eedfae5e846f6cb43d280fc8f716fc7d0}{8fe1537} & Luke Morrison & howto for changing scheduler\\\hline
\href{https://github.com/DSchroederOSU/CS444-Group\_11\_05/commit/1858a4b72e56d55cf51047d145d37da8924d0a95}{1858a4b} & DSchroederOSU & fixed concurrency\\\hline
\href{https://github.com/DSchroederOSU/CS444-Group\_11\_05/commit/fe2fee9cb7be6a8dc4f24a05b72d855ab6f14d2e}{fe2fee9} & DSchroederOSU & added tex and make\\\hline
\href{https://github.com/DSchroederOSU/CS444-Group\_11\_05/commit/f1cc0bee6c166599c52da86c7462076456200697}{f1cc0be} & Luke Morrison & cleanup + fix issues\\\hline
\href{https://github.com/DSchroederOSU/CS444-Group\_11\_05/commit/3b97f026eb869e0905fb8d1b09213294b9f629d6}{3b97f02} & Luke Morrison & test for IO scheduler\\\hline
\href{https://github.com/DSchroederOSU/CS444-Group\_11\_05/commit/a4abfb8d116f312257ec679de7d846a52eec9281}{a4abfb8} & Luke Morrison & added command line arguments\\\hline
\href{https://github.com/DSchroederOSU/CS444-Group\_11\_05/commit/b1e7d32a4b99257f3570ea84c4e2a08c60eb89e1}{b1e7d32} & DSchroederOSU & fixed concurrency\\\hline
\href{https://github.com/DSchroederOSU/CS444-Group\_11\_05/commit/df9f80af0d69e84ff3f2b052b8af192c2340c0d5}{df9f80a} & DSchroederOSU & tex file and concurrency work\\\hline
\href{https://github.com/DSchroederOSU/CS444-Group\_11\_05/commit/93ea155de2ddeeb5360af8ec1df1ad7b1b315a10}{93ea155} & DSchroederOSU & adding tex file\\\hline
\href{https://github.com/DSchroederOSU/CS444-Group\_11\_05/commit/2fdcd23f98fb16f5f5cc05d36e1e46708aaf2463}{2fdcd23} & DSchroederOSU & working on code in Latex file\\\hline
\href{https://github.com/DSchroederOSU/CS444-Group\_11\_05/commit/8df401398a214f996bbdd6e5ef42407e2f5d33b5}{8df4013} & ozarowib & conformed to class style\\\hline
\href{https://github.com/DSchroederOSU/CS444-Group\_11\_05/commit/38ad76e091720598addf73749757dffbc01ea642}{38ad76e} & DSchroederOSU & added code to tex file\\\hline
\href{https://github.com/DSchroederOSU/CS444-Group\_11\_05/commit/dc6e9301c617451dcba6073b38c9c5a406482b20}{dc6e930} & DSchroederOSU & Merge branch 'master' of https://github.com/DSchroederOSU/CS444-Group\_11\_05\\\hline\end{tabular}
\bigskip

\section{Work Log}
\bigskip

\begin{itemize}
\item Luke brought working Categorial Mutual Exclusion code to recitation.
\item Daniel and Brian implemented linked list to be manipulated.
\item Luke added sleepers to the threads to simplify printf output. 
\item Daniel moved sbull.c file into ~/devices/block/ directory.
\item Group decided to use sbd driver for the assignment.
\item Group compiled and tested creating a file system on default driver.
\item Luke tested some cryptography on an sbd.c driver.
\item Brian implemented cryptographic operation on the sbd.c file.
\item Daniel updated LaTex file. 
\item Luke finalized concurrency assignment.

\end{itemize}

\end{document}
